# 主键应该使用自增还是UUID

> ## 1. 主键应该尽量选择自增ID，有以下两个原因

1. 自增ID可以避免随机I/O，如果使用UUID，插入会产生大量的随机I/O
2. 由于非聚集索引每个节点都会带有主键索引的值，如果主键过长，会造成页分裂和碎片，导致索引占用的空间增大

- 注意

    1. 自增主键如果不是设置了NULL，而是指定了值，同样无法避免随机I/O

> ## 2. 如果自增ID满了怎么办

1. 使用无符号Int，但表可以存43亿数据，即使中间有断续，假设只有一半的有效ID被利用，但表存储也达到了21亿，此时应该考虑分库分表

2. 第二种方案是使用BigInt，但是基于第一条，没有必要
